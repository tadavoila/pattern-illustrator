# Pattern Illustrator
**MAT 236: Project 1**

**By: Siddharth Chattoraj**

## Overview

Pattern Illustrator is a drawing and animation tool that enables users to directly design symmetric pattern drawings or generate sketches with Gemini. All illustrations created within the tool are built from a series of strokes, and the user can modify these strokes to improve the overall aesthetic of the drawing. Pattern Illustrator further provides users with the power to visualize an animation between up to 10 illustrations created within the platform. The goal of Pattern Illustrator is to encourage the user to find meaning from and create expression out of patterns. 

## Functionality

Users are constrained to create drawings only based on existing patterns. They have the choice of choosing from one of seven modes of symmetry â€” 180 degree rotational, 4-way rotational, mirrored, radial, dihedral, spiral, kaleidoscopic, and fractal symmetry â€” or they can use Gemini, which fundamentally is based on recognizing patterns from its training dataset, to generate artwork. As users create their drawings, they will ink a series of strokes onto the canvas, which can then be individually modified. 

Pattern Illustrator has interfaces, buttons, and sliders that can be applied to creating new strokes or modifying existing onces in order to allow the user to experiment with different modes of creation. Depending on the mode of symmetry selected, sliders may appear allowing the user to control the number of symmetry repetitions (`N`), `Scale`, and/or `Depth` of the pattern before they draw. Users can control the hue, saturation, brightness, thickness, and opacity of the stroke via the color picker and subsequent sliders. Furthermore, Pattern Illustrator allows the user to click an individual stroke to change its color/thickness properties (`Change`), alter its form (`Vertex`), move its location (`Move`), erase the select portion (`Erase`), or delete the stroke (`Delete`). Users can also clear the canvas (`Clear`), save the current canvas as a PNG (`Save`), and store (`Store`) drawings for future modification or for eventual animation. Drawings can be removed from the store panel by clicking the red `x` on the drawing in the panel, and drawings can be accessed for modification in the Canvas by clicking on them. 

At the bottom of the tools section, there are two AI prompt sections: `AI Art` and `AI Palette`. Prompting Gemini within the AI Art textbox will result in Gemini's representation of the user's request as 20 to 60 modifiable strokes on the Canvas, with the same properties (e.g. color, thickness) that users have access, but without the constraint of symmetry. Prompting Gemini within the AI Palette text box will result in 4 to 5 color swatches appearing in the top left of the drawing tool, and the user can click on those and use them in their illustrations.

To animate drawings, users must have at least two drawings stored. Storing does not automatically clear the canvas, but users are welcome to clear the canvas as they see fit between stored drawings for an animation. They can set the `Ease` and `Animation Duration` via a dropdown and slider respectively in the tools panel. Pressing `Animate` will render an animation in the Canvas.

## Design
The aim of Pattern Illustrator is to enable users to create expressive meaning out of nuances in existing structures. Consequently, at no point is the user able to "free draw", but they are able to "free modify" individual strokes within their illustrations. 

The idea for a drawing tool that could simulateously provide the ability to animate originated from both my experience creating animations and projections for dance shows (where it was very difficult to prototype and design animations when I first started without any experience) and from reading the 2025 paper [Narrative Motion Blocks: Combining Direct Manipulation and Natural Language Interactions for Animation Creation](https://dl.acm.org/doi/10.1145/3715336.3735766) by Samuelle Bourgault, et al. I loved that Sam created a tool that could enable motion path manipulation, but I wanted to create a tool that is even simpler, allowing users who may not have any experience with drawing animation to focus on bringing out the nuances within structures (a very important skill I have found crucial to design development in animation and projection, especially when working within constraints such as only being allowed to use a certain type of art or style to tell a story) and test out animations with a click of the button.

My process designing Pattern Illustrator was that of iterative prorotyping and scaling. I initially began by figuring out how to call the Gemini API, as I have found AI tools to be helpful in my own design work (but only if used symbiotically rather than as a crutch), and from there I was able to generate visual swatches. Afterwards, I designed a basic UI layout for the application and built the `Stroke` class that is the foundation of the entire tool. From there, I used rapid prototyping, testing, and scaling to add the features and buttons for manipulating drawings above. Once I had enough drawing features and the `Stroke` class set, I adapted my AI Palette Generator into an AI Artwork generator that would, after around 30-60 seconds of generating time, automatically create a series of strokes related to the theme that could be modified. This was one of the biggest leaps that I made, since from here, I could now quickly generate drawings and modify them within the same tool (which I had not been able to do as much in any other tool that I have used). I consequently added more features (e.g. vertex, move, etc.) to further enhance the ability of the user to design strokes.

I knew that I wanted to create a simple animation tool because I was hoping to make the process of turning drawings into video representations more efficient, so I research different methods to do so for sketches that may be completely different, and I ended up using linear interpolation to tween together sketches. I did not decide upon having the user be constrained to only symmetrical drawings until the very end, as I was debating between a variety of different constraints (e.g. computer-vision based drawing tool with pinching fingers, calligraphy lettering tool, paint brush tool, watercolor tool, mathematical equations as art tool, Logo-like tool with controlling the brush via programming commands, etc.). I prototyped a variety of these throughout my process with AI (and found AI creates really sloppy work when you tell it to go create a tool), but even accounting for the sloppiness of AI, I did not enjoy any of the prorotypes I had created as they were difficult to control, the resulting drawing was not visually appealing, and they did not allow me to do and improve an action or a design that I had not really had the chance to do before. Consequently, I switched to a symmetry-based constraint, which made the once-free hand drawings much more visually stylized (and hence appealing) and fit within my goal of creating a tool that enables the user to create nuance and meaning out of structure efficiently. 

Since the user is able to modify individual strokes within symmetrical or AI-generated pattern illustrations, they are able to exercise creative control within constraint and express personal meaning through the manipulation of structured forms rather than through freeform drawing. They can iteratively explore variation, rhythm, and balance, and thus can discover new expressive possibilities within the limitations offered by Pattern Illustrator. 

## Reflections and Outcomes

I enjoyed using the Pattern Illustrator tool I created, which was also a goal of mine (to have fun), as sketching and animation can be painful when the art does not appear visually clean or the movements have to be individually set, parameter-by-parameter and keyframe-by-keyframe. From my experience designing artworks and animations, I have found that the best artwork I create comes when I have fun doing so (and I had fun creating this tool, hence the plethora of features of drawing and animation created to maximize it), so I strived to incorporate that into my design. 

While designing the tool, I found it helpful to break up my files into multiple smaller tools that I could then spend more time debugging and coding within. I initially began by developing the entire application in `app.js`, but after it reached 1,000 lines I switched to multiple files in order to make the debugging process quicker. While creating Pattern Illustrator, I primarily used AI to help with the mathematical logic, feature integrations, and reducing repetitive tasks, and I also used it to quickly test out ideas without committing to them. I found that I could get the best, most high-quality results from it when I asked it to do small tasks (e.g. "fix the math for the spiral symmetry") rather than larger tasks (e.g. "incorporate computer vision into the drawing tool, and make it recognize my fingers to draw").

I found that the AI Palette generator is very accurate at producing colors that I would associate with the term I provide, and I discovered that the AI Artwork generator is able to create somewhat representative drawings of my text prompt. There is a tradeoff between the stroke minimum and maximum threshold values I provide to Gemini and the generating time, so I settled on creating drawings with just enough detail to be recognizeable. For future work, I want to improve the ability of the AI Artwork generator to read the existing Canvas, interpret it, and modify the drawing. I implemented this feature briefly, but the AI was struggling to discern how to add objects onto another work; I believe this may need some machine learning and/or computer vision to more accurately respond to existing drawings. I also eventually would like to add the ability for AI to create symmetric drawings and alter the composition of the existing drawing, but this will need more training and a larger system prompt to do so.

Overall, I love that Pattern Illustrator enables the user to play, iterate, and discover meaning through experimentation and modification, by transforming repetition, symmetry, and constraint into a language of expressive design. I was able to discover new drawings and animation capabilities (e.g. drawing a simple object, clearing the canvas, and drawing another different object produces an animation that morphs the first object into the next) from my tool, and I hope to continue expanding Pattern Illustrator into a platform for greater creative discovery in both sketching and animation. 

## Instructions to run with AI features
1. Clone the repository.
2. Create a free Gemini API key for 2.5-Flash in Google AI Studio following these [instructions](https://ai.google.dev/gemini-api/docs/api-key). 
3. Rename `.env.example` to `.env` and insert the API key.
4. Download and install [node.js](https://nodejs.org/en/download).
5. Open Visual Studio Code and make sure you are in the `project-1` directory. Install the [Live Server](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer) extension.
6. Run `node server.js` in the terminal. You should see the following message if done correctly:
```
ðŸš€ Server running on http://localhost:8787
ðŸ§  Using model: gemini-2.5-flash
âœ… Ready for /palette and /art
```
7. Open `index.html` with Live Server. 

